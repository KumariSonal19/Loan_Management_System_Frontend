<div class="page-container">
  <div class="page-header">
    <h1>{{ isEditMode ? 'Edit' : 'Create' }} Loan Type</h1>
    <p>{{ isEditMode ? 'Update loan type details' : 'Add a new loan type configuration' }}</p>
  </div>

  <div class="form-container">
    <form [formGroup]="loanTypeForm" (ngSubmit)="onSubmit()">
      <div class="form-grid">
        <div class="form-group full-width">
          <label for="typeName">Loan Type Name *</label>
          <input
            type="text"
            id="typeName"
            formControlName="typeName"
            class="form-control"
            [class.error]="hasError('typeName', 'required') || hasError('typeName', 'minlength')"
            placeholder="e.g., Home Loan, Personal Loan"
          />
          <span class="error-message" *ngIf="hasError('typeName', 'required')">
            Loan type name is required
          </span>
          <span class="error-message" *ngIf="hasError('typeName', 'minlength')">
            Name must be at least 3 characters
          </span>
        </div>

        <div class="form-group">
          <label for="minAmount">Minimum Amount (₹) *</label>
          <input
            type="number"
            id="minAmount"
            formControlName="minAmount"
            class="form-control"
            [class.error]="hasError('minAmount', 'required') || hasError('minAmount', 'min')"
            placeholder="10000"
          />
          <span class="error-message" *ngIf="hasError('minAmount', 'min')">
            Minimum amount must be at least ₹10,000
          </span>
        </div>

        <div class="form-group">
          <label for="maxAmount">Maximum Amount (₹) *</label>
          <input
            type="number"
            id="maxAmount"
            formControlName="maxAmount"
            class="form-control"
            [class.error]="hasError('maxAmount', 'required') || hasError('maxAmount', 'max')"
            placeholder="5000000"
          />
          <span class="error-message" *ngIf="hasError('maxAmount', 'max')">
            Maximum amount cannot exceed ₹50,00,000
          </span>
        </div>

        <div class="form-group">
          <label for="baseInterestRate">Interest Rate (%) *</label>
          <input
            type="number"
            step="0.01"
            id="baseInterestRate"
            formControlName="baseInterestRate"
            class="form-control"
            [class.error]="hasError('baseInterestRate', 'required')"
            placeholder="10.5"
          />
          <span class="error-message" *ngIf="hasError('baseInterestRate', 'required')">
            Interest rate is required (1-50%)
          </span>
        </div>

        <div class="form-group">
          <label for="minTenure">Minimum Tenure (months) *</label>
          <input
            type="number"
            id="minTenure"
            formControlName="minTenure"
            class="form-control"
            [class.error]="hasError('minTenure', 'required') || hasError('minTenure', 'min')"
            placeholder="6"
          />
          <span class="error-message" *ngIf="hasError('minTenure', 'min')">
            Minimum tenure must be at least 6 months
          </span>
        </div>

        <div class="form-group">
          <label for="maxTenure">Maximum Tenure (months) *</label>
          <input
            type="number"
            id="maxTenure"
            formControlName="maxTenure"
            class="form-control"
            [class.error]="hasError('maxTenure', 'required') || hasError('maxTenure', 'max')"
            placeholder="240"
          />
          <span class="error-message" *ngIf="hasError('maxTenure', 'max')">
            Maximum tenure cannot exceed 240 months
          </span>
        </div>

        <div class="form-group full-width">
          <label for="description">Description</label>
          <textarea
            id="description"
            formControlName="description"
            class="form-control"
            rows="4"
            placeholder="Enter loan type description..."
          ></textarea>
        </div>

        <div class="form-group full-width">
          <label class="checkbox-label">
            <input type="checkbox" formControlName="isActive" />
            Active Status
          </label>
          <small>Inactive loan types won't be available for customers</small>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-secondary" (click)="cancel()" [disabled]="isLoading">
          Cancel
        </button>
        <button type="submit" class="btn btn-primary" [disabled]="isLoading">
          {{ isLoading ? 'Saving...' : (isEditMode ? 'Update' : 'Create') }}
        </button>
      </div>
    </form>
  </div>
</div>